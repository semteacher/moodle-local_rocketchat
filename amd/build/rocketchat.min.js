define(["core/ajax","local_rocketchat/rocketchat"],function(a){var b={},c=function(b,c){a.call([{methodname:"local_rocketchat_set_rocketchat_course_sync",args:{courseid:b,pendingsync:c}}])},d=function(b,c){a.call([{methodname:"local_rocketchat_set_rocketchat_role_sync",args:{roleid:b,requiresync:c}}])},e=function(b,c){a.call([{methodname:"local_rocketchat_set_rocketchat_event_based_sync",args:{courseid:b,eventbasedsync:c}}])},f=function(b){a.call([{methodname:"local_rocketchat_manually_trigger_sync",args:{courseid:b}}]),location.reload()};return b.init=function(){$("#integrated-roles").on("click","input",function(){var a=$(this);d(a.data("roleid"),a.is(":checked"))}),$("#integrated-courses").on("click","button",function(a){a.preventDefault(),$(this).text("Syncing ..."),$(this).prop("disabled","disabled");var b=$(this).data("courseid");f(b,this)}),$("#integrated-courses").on("click",'input[name="pendingsync"]',function(){var a=$(this);c(a.data("courseid"),a.is(":checked"))}),$("#integrated-courses").on("click",'input[name="eventbasedsync"]',function(){var a=$(this);e(a.data("courseid"),a.is(":checked"))})},window.M.local_rocketchat=b,b});