define("local_rocketchat/rocketchat",["exports","jquery","core/ajax"],(function(_exports,_jquery,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Javascript to initialise the Rocket.Chat courses- and role integration settings.
   *
   * @module      local_rocketchat/rocketchat
   * @copyright   2016 GetSmarter {@link http://www.getsmarter.co.za}
   * @author      2021 Adrian Perez <me@adrianperez.me> {@link https://adrianperez.me}
   * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);_exports.init=function(){var courses=(0,_jquery.default)("#integrated-courses"),roles=(0,_jquery.default)("#integrated-roles");courses.on("click",'input[name="pendingsync"]',(function(){var courseid,pendingsync;courseid=(0,_jquery.default)(this).data("courseid"),pendingsync=(0,_jquery.default)(this).is(":checked"),_ajax.default.call([{methodname:"local_rocketchat_set_rocketchat_course_sync",args:{courseid:courseid,pendingsync:pendingsync}}])})),courses.on("click",'input[name="eventbasedsync"]',(function(){var courseid,eventbasedsync;courseid=(0,_jquery.default)(this).data("courseid"),eventbasedsync=(0,_jquery.default)(this).is(":checked"),_ajax.default.call([{methodname:"local_rocketchat_set_rocketchat_event_based_sync",args:{courseid:courseid,eventbasedsync:eventbasedsync}}])})),courses.on("click","button",(function(e){var courseid;e.preventDefault(),(0,_jquery.default)(this).text("Syncing ..."),(0,_jquery.default)(this).prop("disabled","disabled"),courseid=(0,_jquery.default)(this).data("courseid"),_ajax.default.call([{methodname:"local_rocketchat_manually_trigger_sync",args:{courseid:courseid}}]),location.reload()})),roles.on("click","input",(function(){var roleid,requiresync;roleid=(0,_jquery.default)(this).data("roleid"),requiresync=(0,_jquery.default)(this).is(":checked"),_ajax.default.call([{methodname:"local_rocketchat_set_rocketchat_role_sync",args:{roleid:roleid,requiresync:requiresync}}])}))}}));

//# sourceMappingURL=rocketchat.min.js.map